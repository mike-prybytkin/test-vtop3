async function signUpUserApi(e){loaderOn();const r={method:"POST",body:JSON.stringify(e),headers:{"Content-type":"application/json; charset=UTF-8"}};try{const e=await fetch("https://jsonplaceholder.typicode.com/posts",r);await e.json();loaderOff()}catch(e){loaderOff(),console.error(e)}}document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelectorAll("select");M.FormSelect.init(e,{})})),document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelectorAll(".datepicker");M.Datepicker.init(e,{minDate:new Date(1930,0,1),maxDate:new Date(2023,5,1),defaultDate:new Date(2e3,0,1),setDefaultDate:!0,format:"dd mmmm yyyy",yearRange:[1930,2024]})}));const resetFields=e=>{const{elements:r}=e;r.first_name.value="",r.last_name.value="",r.signup_email.value="",r.signup_password.value="",r.signup_confirm_password.value=""},successSignUpForm=e=>{const{elements:r}=e;signUpUserApi({firstName:r.first_name.value,lastName:r.last_name.value,userNationality:r.user_nationality.value,signupEmail:r.signup_email.value,userBirth:r.datepicker.value,userGender:r.gender.value,password:r.signup_password.value}),resetFields(e)},failSignUpForm=()=>{document.querySelector("#form-signup-submit")},optionsForTextInput=[{rule:"required"},{rule:"minLength",value:2,errorMessage:"at least 2 letters"},{rule:"maxLength",value:15,errorMessage:"no more than 15 letters"},{rule:"customRegexp",value:/^[a-zA-Z_-]+$/,errorMessage:"only latin letters, - and _"}],optionsForEmailInput=[{rule:"required"},{rule:"customRegexp",value:/^[A-Z0-9._%+-]+@[A-Z0-9-]+\.[A-Z]{2,4}$/i,errorMessage:"invalid email</br>example@mail.com"}],optionsForPassword=[{rule:"required"},{rule:"minLength",value:8,errorMessage:"at least 8 characters"},{rule:"customRegexp",value:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]+$/,errorMessage:"should be used A-Z a-z 0-9"}],optionsForConfirmPassword=[{rule:"required"},{validator:(e,r)=>{if(r["#signup_password"]&&r["#signup_password"].elem){return e===r["#signup_password"].elem.value}return!0},errorMessage:"Passwords should be the same"}],validator=new window.JustValidate("#form-signup",{tooltip:{position:"top"}});validator.addField("#first_name",optionsForTextInput).addField("#last_name",optionsForTextInput).addField("#signup_email",optionsForEmailInput).addField("#signup_password",optionsForPassword).addField("#signup_confirm_password",optionsForConfirmPassword).addField("#datepicker",[{rule:"required"}]).onSuccess((e=>{successSignUpForm(e.target),validator.refresh()})).onFail((()=>{document.querySelector("#form-signup-submit")}));const loaderOn=()=>{document.querySelector(".loader").classList.add("loader_loading")},loaderOff=()=>{document.querySelector(".loader").classList.remove("loader_loading")};