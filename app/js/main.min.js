async function signUpUserApi(e){loaderOn();const a={method:"POST",body:JSON.stringify(e),headers:{"Content-type":"application/json; charset=UTF-8"}};try{const e=await fetch("https://jsonplaceholder.typicode.com/posts",a),t=await e.json();loaderOff(),toastMessage(`<i>${t.firstName}</i>, thank you for registering!`,"green")}catch(e){loaderOff(),toastMessage("Something went wrong, please try again","red"),console.error(e)}}document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelectorAll("select");M.FormSelect.init(e,{})})),document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelectorAll(".datepicker");M.Datepicker.init(e,{minDate:new Date(1930,0,1),maxDate:new Date(2023,5,1),defaultDate:new Date(2e3,0,1),setDefaultDate:!0,format:"dd mmmm yyyy",yearRange:[1930,2024]})}));const resetFields=e=>{const{elements:a}=e;a.first_name.value="",a.last_name.value="",a.signup_email.value="",a.signup_password.value="",a.signup_confirm_password.value=""},successSignUpForm=e=>{const{elements:a}=e;signUpUserApi({firstName:a.first_name.value,lastName:a.last_name.value,userNationality:a.user_nationality.value,signupEmail:a.signup_email.value,userBirth:a.datepicker.value,userGender:a.gender.value,password:a.signup_password.value}),resetFields(e)},failSignUpForm=()=>{anime({targets:"#form-signup-submit",keyframes:[{translateX:0},{translateX:-40},{translateX:40},{translateX:-40},{translateX:40},{translateX:-40},{translateX:40},{translateX:-40},{translateX:40},{translateX:-40},{translateX:40},{translateX:0}],duration:1e3})};anime({targets:[".form-wrapper__first-name",".form-wrapper__last-name",".form-wrapper__nationality",".form-wrapper__signup-email",".form-wrapper__datepicker",".form-wrapper__radio",".form-wrapper__signup-password",".form-wrapper__signup-confirm-password"],bottom:"0px",opacity:1,delay:anime.stagger(400),duration:1e3});const optionsForTextInput=[{rule:"required"},{rule:"minLength",value:2,errorMessage:"at least 2 letters"},{rule:"maxLength",value:15,errorMessage:"no more than 15 letters"},{rule:"customRegexp",value:/^[a-zA-Z_-]+$/,errorMessage:"only latin letters, - and _"}],optionsForEmailInput=[{rule:"required"},{rule:"customRegexp",value:/^[A-Z0-9._%+-]+@[A-Z0-9-]+\.[A-Z]{2,4}$/i,errorMessage:"invalid email</br>example@mail.com"}],optionsForPassword=[{rule:"required"},{rule:"minLength",value:8,errorMessage:"at least 8 characters"},{rule:"customRegexp",value:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]+$/,errorMessage:"should be used A-Z a-z 0-9"}],optionsForConfirmPassword=[{rule:"required"},{validator:(e,a)=>{if(a["#signup_password"]&&a["#signup_password"].elem){return e===a["#signup_password"].elem.value}return!0},errorMessage:"Passwords should be the same"}],validator=new window.JustValidate("#form-signup",{tooltip:{position:"top"}});validator.addField("#first_name",optionsForTextInput).addField("#last_name",optionsForTextInput).addField("#signup_email",optionsForEmailInput).addField("#signup_password",optionsForPassword).addField("#signup_confirm_password",optionsForConfirmPassword).onSuccess((e=>{successSignUpForm(e.target),validator.refresh()})).onFail((()=>{anime({targets:"#form-signup-submit",keyframes:[{translateX:0},{translateX:-40},{translateX:40},{translateX:-40},{translateX:40},{translateX:-40},{translateX:40},{translateX:-40},{translateX:40},{translateX:-40},{translateX:40},{translateX:0}],duration:1e3})}));const loaderOn=()=>{document.querySelector(".loader").classList.add("loader_loading")},loaderOff=()=>{document.querySelector(".loader").classList.remove("loader_loading")},toastMessage=(e,a="green")=>{const t=`<span>${e}</span>`;M.toast({html:t});document.querySelector(".toast").style.backgroundColor=a};